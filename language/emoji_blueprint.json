{
  "system_blueprint": {
    "scanner": {
      "role": "Filter crypto pairs for candidates",
      "tech": "Python scripts, exchange APIs (e.g., Kraken, Binance)",
      "output": "scanner_output.json",
      "fields": ["symbol", "avg_volume", "volatility", "setup"]
    },
    "repository": {
      "role": "Shared state store",
      "structure": [
        "scanner_output.json",
        "tick_agent/<symbol>.json",
        "volume_agent/<symbol>.json",
        "indicators_agent/<symbol>.json",
        "fundamentals_agent/<symbol>.json",
        "news_agent/<symbol>.json",
        "fusion_agent/<symbol>.json",
        "supreme_leader.json",
        "tracker_agent/<symbol>.json",
        "criteria_auditor/<symbol>.json",
        "evaluator/<symbol>.json",
        "archivist.json"
      ]
    },
    "agents": {
      "scanner": "Filter crypto pairs for liquid, volatile candidates",
      "tick": "Build tick or range bars (50, 100)",
      "volume": "Ord/Weis wave analysis",
      "indicators": "RSI, MACD, MAs, ATR",
      "fundamentals": "On-chain metrics, liquidity, tokenomics",
      "news": "Sentiment classification (crypto news, social feeds)",
      "fusion": "Combine signals, weighted scoring",
      "supreme_leader": "Apply constraints, approve list",
      "worker_bee": "Update frontend, push to GitHub",
      "tracker": "Monitor outcomes post-prediction",
      "criteria_auditor": "Verify original criteria held",
      "evaluator": "Win/loss verdict, calibration",
      "archivist": "Store features + outcomes for learning and retraining",
      "trainer": "Consume Archivist logs, fine-tune models, recalibrate rules",
      "scribe": "Dedicated documentation agent that merges approved changes into README_EMOJI_SYSTEM.md"
    },
    "scoring": {
      "weights": {
        "technical": 40,
        "volume": 25,
        "fundamentals": 20,
        "news": 15
      },
      "thresholds": {
        "win": "return >= 0.5% with drawdown >= -0.5%",
        "loss": "return < 0.5% or criteria fail"
      }
    },
    "post_prediction": {
      "tracker": "Log checkpoints (1h, EOD, 3d, 10d)",
      "auditor": "Re-check criteria pass/fail",
      "evaluator": "Assign win/loss, compare forecast vs realized",
      "supreme_leader": "Flag good/bad, promote or drop",
      "archivist": "Archive features + labels for drift detection"
    },
    "feedback_loop": {
      "tracker": {
        "role": "Log outcomes at checkpoints (1h, EOD, 3d, 10d)",
        "output": "tracker_agent/<symbol>.json"
      },
      "criteria_auditor": {
        "role": "Re-check original criteria validity",
        "output": "criteria_auditor/<symbol>.json"
      },
      "evaluator": {
        "role": "Compare forecast vs realized, assign win/loss",
        "output": "evaluator/<symbol>.json"
      },
      "archivist": {
        "role": "Store features + outcomes for drift detection and retraining",
        "output": "archivist.json",
        "feeds_back": ["model_fine_tuning", "rule_calibration"]
      },
      "trainer": {
        "role": "Consume Archivist logs, fine-tune models, recalibrate rules",
        "input": "archivist.json",
        "output": "updated_models/",
        "trigger": "archivist feedback signals (drift_detected, performance_drop, scheduled)"
      },
      "scribe": {
        "role": "Update README_EMOJI_SYSTEM.md when Supreme Leader marks changes as approved",
        "input": ["emoji_blueprint.json", "archivist.json", "supreme_leader.json"],
        "output": "README_EMOJI_SYSTEM.md",
        "trigger": "supreme_leader approval with update_readme flag"
      },
      "supreme_leader": {
        "role": "Consume improved models/rules, enforce constraints, approve lists",
        "input": ["fusion_agent.json", "archivist.json (post-calibration)"]
      }
    },
    "constraints": {
      "max_emoji_length": 4,
      "enforced_by": "supreme_leader"
    },
    "emoji_language": {
      "emoji_lexicon": {
        "outcomes": {
          "🙂": "good / success",
          "🙁": "bad / failure",
          "💵": "profit",
          "💸": "loss",
          "⚖️": "neutral / breakeven"
        },
        "technicals": {
          "📈": "uptrend",
          "📉": "downtrend",
          "🔄": "retest",
          "📊": "consolidation / sideways",
          "⚡": "breakout / momentum",
          "🌀": "volatility spike"
        },
        "volume_flow": {
          "📦": "accumulation",
          "🏃": "distribution / exit",
          "💧": "liquidity zone",
          "🔥": "exhaustion"
        },
        "fundamentals_news": {
          "📰": "positive news",
          "🗞️": "negative news",
          "📅": "token unlock / event",
          "🏦": "on-chain strong",
          "🏚️": "on-chain weak"
        },
        "actions": {
          "✅": "criteria pass",
          "❌": "criteria fail",
          "⏸️": "hold / pending",
          "⬆️": "promote / whitelist",
          "⬇️": "drop / blacklist",
          "📂": "archive / remember"
        }
      },
      "grammar": {
        "rule": "SYMBOL | EMOJIS | SCORE | CONFIDENCE | TIMESTAMP",
        "example": "BTCUSDT | 🙂📈💵📰 | 82 | 0.78 | 2025-10-27",
        "meaning": "BTCUSDT trade was good, uptrend, profitable, positive news, score 82, confidence 78%"
      },
      "policy": {
        "runtime": "Agents communicate in emoji shorthand",
        "storage": "Expanded JSON persisted to disk for audit",
        "bridge": "Encoder/decoder maps emoji ↔ JSON",
        "codec_path": "C:\\stockapp\\language\\emoji_codec.py"
      }
    },
    "governance": {
      "schema_versioning": true,
      "audit_trail": "Git commits + JSON logs",
      "manual_override": "Supreme leader can pause publishing",
      "rollback": "Snapshots before Worker Bee pushes"
    },
    "deployment": {
      "save_path": "C:\\stockapp\\language\\emoji_blueprint.json",
      "instruction": "Claude should save this unified blueprint JSON to the above path so all agents can reference it. Claude must also read the README_EMOJI_SYSTEM.md file in the same directory before starting work."
    }
  }
}
